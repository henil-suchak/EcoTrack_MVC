@model EcoTrack.WebMvc.ViewModels.DashboardViewModel

@{
    ViewData["Title"] = "My Dashboard";
}

<div class="row mb-4">
    <div class="col-md-8">
        <h1>Welcome, @Model.UserProfile.Name!</h1>
        <p class="lead">Here's a summary of your carbon footprint.</p>
    </div>
    <div class="col-md-4 text-md-end">
        <a asp-action="Statistics" asp-controller="Dashboard" class="btn btn-info mt-2">Emission Statistics</a>
        
        <a asp-action="Edit" asp-controller="Users" asp-route-id="@Model.UserProfile.UserId" class="btn btn-primary mt-2">Edit Profile</a>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <h3>Recent Activities</h3>
        @if (Model.RecentActivities.Any())
        {
            <ul class="list-group">
                @foreach (var activity in Model.RecentActivities.Take(5))
                {
                    <li class="list-group-item">
                        @activity.GetDescription()
                        <span class="badge bg-secondary float-end">@activity.CarbonEmission.ToString("F2") kg COâ‚‚</span>
                    </li>
                }
            </ul>
        }
        else
        {
            <p>No activities logged yet.</p>
        }
    </div>
    <div class="col-md-6">
        <h3>New Suggestions</h3>
        @if (Model.UnreadSuggestions.Any())
        {
            <ul class="list-group">
                @foreach (var suggestion in Model.UnreadSuggestions)
                {
                    <li class="list-group-item">@suggestion.Description</li>
                }
            </ul>
        }
        else
        {
            <p>No new suggestions.</p>
        }
    </div>
</div>